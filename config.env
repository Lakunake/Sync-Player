# ====================================
# Sync-Player Environment Configuration
# ====================================
# Copy this file to .env and customize values
# Environment variables take precedence over config.txt
# 
# Format: VARIABLE_NAME=value
# Lines starting with # are comments

# ==================== Server Settings ====================

# Server port (1024-49151)
SYNC_PORT=3000

# ==================== HTTPS Configuration ====================
# Set to true to enable HTTPS (recommended for production)
SYNC_USE_HTTPS=true

# Paths to SSL certificate files (relative to project root)
SYNC_SSL_KEY_FILE=res/key.pem
SYNC_SSL_CERT_FILE=res/cert.pem

# ==================== Playback Settings ====================

# Volume step percentage (1-20)
SYNC_VOLUME_STEP=5

# Maximum volume cap percentage (100-1000)
# 100 = normal browser max, higher uses Web Audio API for amplification
SYNC_MAX_VOLUME=400

# Rewind/Skip seconds (5-60)
SYNC_SKIP_SECONDS=5

# Skip Intro seconds - how many seconds the "Skip Intro" button jumps forward
SYNC_SKIP_INTRO_SECONDS=87

# Auto-play videos when loaded (true/false)
SYNC_VIDEO_AUTOPLAY=false

# ==================== Join Behavior ====================

# Join mode: 'sync' (new user joins current time) or 'reset' (rewind to 0 for everyone)
SYNC_JOIN_MODE=sync

# ==================== Client Controls ====================

# Disable client touch/click controls (true = view-only clients)
SYNC_CLIENT_CONTROLS_DISABLED=false

# Disable client sync events to server (true = ignore client control events)
SYNC_CLIENT_SYNC_DISABLED=false

# ==================== BSL-S² (Both Side Local Sync Stream) ====================

# Mode: 'any' = BSL active if ANY client has file, 'all' = only if ALL have it
SYNC_BSL_MODE=any

# Enable advanced matching (checks size, type, extension beyond filename)
SYNC_BSL_ADVANCED_MATCH=true

# How many of 4 criteria must match (1-4): Filename, Extension, Size ±1.5MB, MIME
SYNC_BSL_MATCH_THRESHOLD=1

# ==================== Security ====================

# Lock admin to first machine's fingerprint (true/false)
# Fingerprint is stored in memory/memory.json
SYNC_ADMIN_FINGERPRINT_LOCK=true

# Encryption key for memory.json (optional, auto-generated if not set)
# SYNC_PLAYER_KEY=your-secret-key-here

# ==================== Features ====================

# Enable chat widget for viewers
SYNC_CHAT_ENABLED=true

# Enable multi-room server mode
SYNC_SERVER_MODE=false

# Enable data hydration (faster startup, injects initial data into pages)
SYNC_DATA_HYDRATION=true

# Password for FFmpeg Tools tab (empty = disabled/no access)
# This password is hashed on startup and never exposed
SYNC_FFMPEG_TOOLS_PASSWORD=your password here

# ==================== Subtitle Rendering ====================

# ASS/SSA subtitle renderer: 'wsr' (Web Subtitle Renderer, built-in) or 'jassub' (libass via WASM)
# 'wsr' = Lightweight, ~60% ASS feature coverage, supports VTT
# 'jassub' = Full libass, 100% ASS support, ~500KB larger, ASS only
# NOTE: 'jassub' REQUIRES HTTPS to be enabled (uses SharedArrayBuffer)
#       When HTTPS is off, this setting is ignored and 'wsr' is used automatically
SYNC_SUBTITLE_RENDERER=jassub



# ==================== Other ====================

# Show SSL generation tip in console when HTTPS is disabled (true/false)
SYNC_SHOW_SSL_TIP=true
